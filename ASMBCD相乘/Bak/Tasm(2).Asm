;BCD相乘
;学号-姓名-班级-实验01.PDF
DATA SEGMENT  
	FIRST		DB 99H
	SECOND		DB 25H
	RESULT		DB 4 DUP(?),'$'
DATA ENDS

CODE SEGMENT 
ASSUME CS:CODE,DS:DATA,ES:DATA
START:
	MOV AX,DATA	
	MOV DS,AX
	MOV ES,AX
	;SECOND转16进制
	MOV CL,4
	XOR AH,AH
	MOV AL,SECOND
	SHL AX,CL
	SHR AL,CL
	AAD

	MOV CL,AL
	XOR AX,AX
	CLC
LOOPADD:;组合BCD累加实现相乘
	ADD AL,FIRST
	DAA
	XCHG BX,AX
	ADC AX,0
	DAA
	XCHG AX,BX
	LOOP LOOPADD
	MOV AH,BL
	;显示字符串
	XOR BX,BX
	MOV BL,AH
	MOV CL,4
	SHL BX,CL
	SHR BL,CL
	ADD BH,30H
	ADD BL,30H
	XOR AH,AH
	SHL AX,CL
	SHR AL,CL
	ADD AH,30H
	ADD AL,30H
	LEA DI,RESULT
	MOV BYTE PTR [DI],BH
	INC DI
	MOV BYTE PTR [DI],BL
	INC DI
	MOV BYTE PTR [DI],AH
	INC DI
	MOV BYTE PTR [DI],AL
	INC DI
	MOV AH,09H
	INT 21H
	
	MOV AX,4C00H
	INT 21H
CODE ENDS  
END START